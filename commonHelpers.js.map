{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startBtn = document.querySelector(\"button\");\nstartBtn.disabled = true;\nlet userSelectedDate = null;\nlet stopTime = null;\nlet check = 1;\nconst days = document.querySelector(\"span[data-days]\");\nconst hours = document.querySelector(\"span[data-hours]\")\nconst minutes = document.querySelector(\"span[data-minutes]\")\nconst seconds = document.querySelector(\"span[data-seconds]\")\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0]\n    stopTime = userSelectedDate.getTime();\n    const nowDate = Date.now();\n    if (stopTime <= nowDate) { \n        startBtn.disabled = true;\n        iziToast.show({\n              message: \"âŒ Please choose a date in the future\",\n              position: \"topRight\",\n              backgroundColor: \"#fa0000\",\n              progressBar: false,\n              transitionIn: \"fadeIn\",\n              close: false,\n            });\n      } else {\n      startBtn.disabled = false;\n      };\n    },\n};\n\nconst dateInp = document.querySelector('#datetime-picker');\nconst fp = flatpickr(dateInp, options);\n\nconst timer = {\n  start() {\n    startBtn.disabled = true;\n    if (check > 0) {\n      const intervalId = setInterval(() => {\n      const startTime = Date.now();\n      const deltaTime = userSelectedDate.getTime() - startTime;\n      const calculater = convertMs(deltaTime);\n      days.innerHTML = calculater.days;\n      hours.innerHTML = calculater.hours;\n      minutes.innerHTML = calculater.minutes;\n      seconds.innerHTML = calculater.seconds;\n      check = deltaTime;\n      console.log(\"intervalId ~ check:\", check)\n    }, 1000);\n    } else {\n      clearInterval(intervalId);\n      check = 1;\n      return\n    }\n  },\n\n}\n\nstartBtn.addEventListener(\"click\", timer.start);\n\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = pad(Math.floor(ms / day));\n  // Remaining hours\n  const hours = pad(Math.floor((ms % day) / hour));\n  // Remaining minutes\n  const minutes = pad(Math.floor(((ms % day) % hour) / minute));\n  // Remaining seconds\n  const seconds = pad(Math.floor((((ms % day) % hour) % minute) / second));\n  return { days, hours, minutes, seconds };\n};\n\nfunction pad(value) {\n  return String(value).padStart(2,'0')\n}"],"names":["startBtn","userSelectedDate","stopTime","check","days","hours","minutes","seconds","options","selectedDates","nowDate","iziToast","dateInp","flatpickr","timer","startTime","deltaTime","calculater","convertMs","ms","pad","value"],"mappings":"+IAMA,MAAMA,EAAW,SAAS,cAAc,QAAQ,EAChDA,EAAS,SAAW,GACpB,IAAIC,EAAmB,KACnBC,EAAW,KACXC,EAAQ,EACZ,MAAMC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAGrDC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBR,EAAmBQ,EAAc,CAAC,EAClCP,EAAWD,EAAiB,UAC5B,MAAMS,EAAU,KAAK,MACjBR,GAAYQ,GACZV,EAAS,SAAW,GACpBW,EAAS,KAAK,CACR,QAAS,uCACT,SAAU,WACV,gBAAiB,UACjB,YAAa,GACb,aAAc,SACd,MAAO,EACrB,CAAa,GAEPX,EAAS,SAAW,EAErB,CACL,EAEMY,EAAU,SAAS,cAAc,kBAAkB,EAC9CC,EAAUD,EAASJ,CAAO,EAErC,MAAMM,EAAQ,CACZ,OAAQ,CAEN,GADAd,EAAS,SAAW,GAChBG,EAAQ,EACS,YAAY,IAAM,CACrC,MAAMY,EAAY,KAAK,MACjBC,EAAYf,EAAiB,QAAO,EAAKc,EACzCE,EAAaC,EAAUF,CAAS,EACtCZ,EAAK,UAAYa,EAAW,KAC5BZ,EAAM,UAAYY,EAAW,MAC7BX,EAAQ,UAAYW,EAAW,QAC/BV,EAAQ,UAAYU,EAAW,QAC/Bd,EAAQa,EACR,QAAQ,IAAI,sBAAuBb,CAAK,CACzC,EAAE,GAAI,MACA,CACL,cAAc,UAAU,EACxBA,EAAQ,EACR,MACD,CACF,CAEH,EAEAH,EAAS,iBAAiB,QAASc,EAAM,KAAK,EAG9C,SAASI,EAAUC,EAAI,CAQrB,MAAMf,EAAOgB,EAAI,KAAK,MAAMD,EAAK,KAAG,CAAC,EAE/Bd,EAAQe,EAAI,KAAK,MAAOD,EAAK,MAAO,IAAI,CAAC,EAEzCb,EAAUc,EAAI,KAAK,MAAQD,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEtDZ,EAAUa,EAAI,KAAK,MAASD,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EACvE,MAAO,CAAE,KAAAf,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASa,EAAIC,EAAO,CAClB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAE,GAAG,CACrC"}