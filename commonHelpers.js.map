{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startBtn = document.querySelector(\"button\");\nstartBtn.disabled = true;\nlet userSelectedDate = null;\nlet stopTime = null;\nconst days = document.querySelector(\"span[data-days]\");\nconst hours = document.querySelector(\"span[data-hours]\");\nconst minutes = document.querySelector(\"span[data-minutes]\");\nconst seconds = document.querySelector(\"span[data-seconds]\");\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0]\n    stopTime = userSelectedDate.getTime();\n    const nowDate = Date.now();\n    if (stopTime <= nowDate) { \n        startBtn.disabled = true;\n        iziToast.show({\n              message: \"âŒ Please choose a date in the future\",\n              position: \"topRight\",\n              backgroundColor: \"#fa0000\",\n              progressBar: false,\n              transitionIn: \"fadeIn\",\n              close: false,\n            });\n      } else {\n      startBtn.disabled = false;\n      };\n    },\n};\n\nconst dateInp = document.querySelector('#datetime-picker');\nconst fp = flatpickr(dateInp, options);\n\nconst timer = {\n  start() {\n    startBtn.disabled = true;\n    dateInp.disabled = true;\n    const intervalId = setInterval(() => {\n      const startTime = Date.now();\n      const deltaTime = userSelectedDate.getTime() - startTime;\n      if (deltaTime > 1000) {\n        const calculater = convertMs(deltaTime);\n        days.innerHTML = calculater.days;\n        hours.innerHTML = calculater.hours;\n        minutes.innerHTML = calculater.minutes;\n        seconds.innerHTML = calculater.seconds;\n      } else {\n        clearInterval(intervalId);\n        days.innerHTML = \"00\";\n        hours.innerHTML = \"00\"\n        minutes.innerHTML = \"00\";\n        seconds.innerHTML = \"00\";\n        dateInp.disabled = false;\n        return;\n      };\n    }, 1000);\n  },\n\n};\n\nstartBtn.addEventListener(\"click\", timer.start);\n\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = pad(Math.floor(ms / day));\n  // Remaining hours\n  const hours = pad(Math.floor((ms % day) / hour));\n  // Remaining minutes\n  const minutes = pad(Math.floor(((ms % day) % hour) / minute));\n  // Remaining seconds\n  const seconds = pad(Math.floor((((ms % day) % hour) % minute) / second));\n  return { days, hours, minutes, seconds };\n};\n\nfunction pad(value) {\n  return String(value).padStart(2, '0');\n};"],"names":["startBtn","userSelectedDate","stopTime","days","hours","minutes","seconds","options","selectedDates","nowDate","iziToast","dateInp","flatpickr","timer","intervalId","startTime","deltaTime","calculater","convertMs","ms","pad","value"],"mappings":"+IAMA,MAAMA,EAAW,SAAS,cAAc,QAAQ,EAChDA,EAAS,SAAW,GACpB,IAAIC,EAAmB,KACnBC,EAAW,KACf,MAAMC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAGrDC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBP,EAAmBO,EAAc,CAAC,EAClCN,EAAWD,EAAiB,UAC5B,MAAMQ,EAAU,KAAK,MACjBP,GAAYO,GACZT,EAAS,SAAW,GACpBU,EAAS,KAAK,CACR,QAAS,uCACT,SAAU,WACV,gBAAiB,UACjB,YAAa,GACb,aAAc,SACd,MAAO,EACrB,CAAa,GAEPV,EAAS,SAAW,EAErB,CACL,EAEMW,EAAU,SAAS,cAAc,kBAAkB,EAC9CC,EAAUD,EAASJ,CAAO,EAErC,MAAMM,EAAQ,CACZ,OAAQ,CACNb,EAAS,SAAW,GACpBW,EAAQ,SAAW,GACnB,MAAMG,EAAa,YAAY,IAAM,CACnC,MAAMC,EAAY,KAAK,MACjBC,EAAYf,EAAiB,QAAO,EAAKc,EAC/C,GAAIC,EAAY,IAAM,CACpB,MAAMC,EAAaC,EAAUF,CAAS,EACtCb,EAAK,UAAYc,EAAW,KAC5Bb,EAAM,UAAYa,EAAW,MAC7BZ,EAAQ,UAAYY,EAAW,QAC/BX,EAAQ,UAAYW,EAAW,OACvC,KAAa,CACL,cAAcH,CAAU,EACxBX,EAAK,UAAY,KACjBC,EAAM,UAAY,KAClBC,EAAQ,UAAY,KACpBC,EAAQ,UAAY,KACpBK,EAAQ,SAAW,GACnB,MACR,CACK,EAAE,GAAI,CACR,CAEH,EAEAX,EAAS,iBAAiB,QAASa,EAAM,KAAK,EAG9C,SAASK,EAAUC,EAAI,CAQrB,MAAMhB,EAAOiB,EAAI,KAAK,MAAMD,EAAK,KAAG,CAAC,EAE/Bf,EAAQgB,EAAI,KAAK,MAAOD,EAAK,MAAO,IAAI,CAAC,EAEzCd,EAAUe,EAAI,KAAK,MAAQD,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEtDb,EAAUc,EAAI,KAAK,MAASD,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EACvE,MAAO,CAAE,KAAAhB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASc,EAAIC,EAAO,CAClB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC"}